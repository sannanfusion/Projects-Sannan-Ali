// Translation System
const translations = {
  en: {
    nav: {
      home: "Home",
      apartments: "Apartments",
      amenities: "Amenities",
      gallery: "Gallery",
      contact: "Contact",
      bookNow: "Book Now"
    },
    hero: {
      subtitle: "BEACHFRONT LUXURY ACCOMMODATION",
      title: "Experience Seaside Tranquility",
      description: "Discover our exclusive collection of luxury beachfront apartments and hotel rooms, offering unparalleled comfort and breathtaking sea views.",
      bookStay: "Book Your Stay",
      exploreApartments: "Explore Apartments",
      scrollDown: "Scroll Down"
    },
    footer: {
      description: "Luxurious beachfront apartments and hotel rooms with stunning sea views, offering the perfect blend of comfort and elegance for your dream vacation.",
      quickLinks: "Quick Links",
      contact: "Contact",
      newsletter: "Newsletter",
      newsletterDesc: "Subscribe to our newsletter for special deals and updates.",
      yourEmail: "Your email address",
      subscribe: "Subscribe",
      allRights: "All rights reserved."
    },
    bookingForm: {
      title: "Book Your Stay",
      checkIn: "Check-in Date",
      checkOut: "Check-out Date",
      adults: "Adults",
      children: "Children",
      adult: "Adult",
      child: "Child",
      selectDate: "Select date",
      checkAvailability: "Check Availability",
      bookingConfirmed: "Booking Confirmed!"
    },
    testimonials: {
      title: "What Our Guests Say",
      description: "Discover why our guests keep coming back to MareSereno for their seaside getaways."
    },
    home: {
      welcome: {
        subtitle: "Welcome to MareSereno",
        title: "Luxury Seaside Accommodations",
        description1: "Nestled on the pristine Mediterranean coastline, MareSereno offers an exquisite collection of luxury apartments and hotel rooms. Our beachfront accommodations combine elegant design with modern comfort, creating the perfect setting for an unforgettable seaside getaway.",
        description2: "Whether you're seeking a romantic escape, a family vacation, or a peaceful retreat, our diverse range of accommodations caters to every preference and need. Each space is thoughtfully designed to provide panoramic sea views and direct beach access.",
        learnMore: "Learn More"
      },
      booking: {
        subtitle: "Book Your Stay",
        title: "Reserve Your Perfect Getaway",
        description: "Take the first step towards your dream vacation by checking availability and securing your preferred dates. Our simple booking process ensures a seamless experience from reservation to arrival.",
        benefits: ["Instant confirmation", "Best rate guarantee", "Flexible cancellation options", "Secure payment"]
      },
      featuredApartments: {
        subtitle: "Our Accommodations",
        title: "Featured Apartments",
        description: "Discover our most popular accommodation options, each offering a perfect blend of comfort, style, and breathtaking sea views.",
        viewAll: "View All Apartments"
      },
      amenities: {
        subtitle: "Hotel Amenities",
        title: "Experience The Best",
        description: "Enjoy our premium facilities and services designed to make your stay exceptional.",
        features: {
          beachfront: {
            title: "Beachfront Location",
            description: "Direct access to pristine beaches with crystal clear waters."
          },
          pools: {
            title: "Swimming Pools",
            description: "Relax by our infinity pools with stunning sea views."
          },
          restaurant: {
            title: "Gourmet Restaurant",
            description: "Enjoy exquisite local and international cuisine."
          },
          wifi: {
            title: "High-Speed Wi-Fi",
            description: "Stay connected with complimentary high-speed internet."
          },
          bar: {
            title: "Beach Bar & Café",
            description: "Refreshing drinks and snacks served right on the beach."
          },
          location: {
            title: "Prime Location",
            description: "Close to local attractions, shops, and restaurants."
          }
        }
      },
      cta: {
        title: "Ready for Your Dream Vacation?",
        description: "Book your stay today and experience the perfect blend of luxury, comfort, and stunning sea views.",
        bookNow: "Book Now"
      }
    }
  },
  it: {
    nav: {
      home: "Home",
      apartments: "Appartamenti",
      amenities: "Servizi",
      gallery: "Galleria",
      contact: "Contatti",
      bookNow: "Prenota Ora"
    },
    hero: {
      subtitle: "ALLOGGI DI LUSSO SUL MARE",
      title: "Vivi la Tranquillità del Mare",
      description: "Scopri la nostra esclusiva collezione di appartamenti di lusso e camere d'albergo sul mare, che offrono comfort impareggiabile e viste mozzafiato sul mare.",
      bookStay: "Prenota il tuo Soggiorno",
      exploreApartments: "Esplora gli Appartamenti",
      scrollDown: "Scorri Giù"
    },
    footer: {
      description: "Appartamenti di lusso sul mare e camere d'albergo con splendide viste sul mare, che offrono il perfetto connubio di comfort ed eleganza per la tua vacanza da sogno.",
      quickLinks: "Link Rapidi",
      contact: "Contatti",
      newsletter: "Newsletter",
      newsletterDesc: "Iscriviti alla nostra newsletter per offerte speciali e aggiornamenti.",
      yourEmail: "Il tuo indirizzo email",
      subscribe: "Iscriviti",
      allRights: "Tutti i diritti riservati."
    },
    bookingForm: {
      title: "Prenota il tuo Soggiorno",
      checkIn: "Data di Check-in",
      checkOut: "Data di Check-out",
      adults: "Adulti",
      children: "Bambini",
      adult: "Adulto",
      child: "Bambino",
      selectDate: "Seleziona data",
      checkAvailability: "Verifica Disponibilità",
      bookingConfirmed: "Prenotazione Confermata!"
    },
    testimonials: {
      title: "Cosa Dicono i Nostri Ospiti",
      description: "Scopri perché i nostri ospiti continuano a tornare a MareSereno per le loro fughe al mare."
    },
    home: {
      welcome: {
        subtitle: "Benvenuti a MareSereno",
        title: "Alloggi di Lusso sul Mare",
        description1: "Situato sulla incontaminata costa mediterranea, MareSereno offre una squisita collezione di appartamenti di lusso e camere d'albergo. I nostri alloggi fronte mare combinano un design elegante con comfort moderni, creando l'ambientazione perfetta per una indimenticabile fuga al mare.",
        description2: "Che tu stia cercando una fuga romantica, una vacanza in famiglia o un ritiro tranquillo, la nostra vasta gamma di alloggi si adatta a ogni preferenza ed esigenza. Ogni spazio è progettato con cura per fornire viste panoramiche sul mare e accesso diretto alla spiaggia.",
        learnMore: "Scopri di Più"
      },
      booking: {
        subtitle: "Prenota il tuo Soggiorno",
        title: "Prenota la tua Vacanza Perfetta",
        description: "Fai il primo passo verso la tua vacanza da sogno verificando la disponibilità e assicurandoti le date preferite. Il nostro semplice processo di prenotazione garantisce un'esperienza senza interruzioni dalla prenotazione all'arrivo.",
        benefits: ["Conferma istantanea", "Miglior tariffa garantita", "Opzioni di cancellazione flessibili", "Pagamento sicuro"]
      },
      featuredApartments: {
        subtitle: "I Nostri Alloggi",
        title: "Appartamenti in Evidenza",
        description: "Scopri le nostre opzioni di alloggio più popolari, ognuna che offre un perfetto equilibrio di comfort, stile e viste mozzafiato sul mare.",
        viewAll: "Visualizza Tutti gli Appartamenti"
      },
      amenities: {
        subtitle: "Servizi dell'Hotel",
        title: "Vivi il Meglio",
        description: "Goditi le nostre strutture e servizi premium progettati per rendere il tuo soggiorno eccezionale.",
        features: {
          beachfront: {
            title: "Posizione Fronte Mare",
            description: "Accesso diretto a spiagge incontaminate con acque cristalline."
          },
          pools: {
            title: "Piscine",
            description: "Rilassati accanto alle nostre piscine a sfioro con vista mozzafiato sul mare."
          },
          restaurant: {
            title: "Ristorante Gourmet",
            description: "Goditi squisita cucina locale e internazionale."
          },
          wifi: {
            title: "Wi-Fi ad Alta Velocità",
            description: "Rimani connesso con internet ad alta velocità gratuito."
          },
          bar: {
            title: "Bar & Caffè sulla Spiaggia",
            description: "Bevande rinfrescanti e snack serviti direttamente sulla spiaggia."
          },
          location: {
            title: "Posizione Privilegiata",
            description: "Vicino alle attrazioni locali, negozi e ristoranti."
          }
        }
      },
      cta: {
        title: "Pronto per la tua Vacanza da Sogno?",
        description: "Prenota il tuo soggiorno oggi e vivi il perfetto connubio di lusso, comfort e viste mozzafiato sul mare.",
        bookNow: "Prenota Ora"
      }
    }
  }
};

// Translation functionality
let currentLanguage = 'en';

function initTranslations() {
  // Load saved language from localStorage
  const savedLanguage = localStorage.getItem('language');
  if (savedLanguage && translations[savedLanguage]) {
    currentLanguage = savedLanguage;
  }
  
  // Update language selectors
  document.querySelectorAll('#languageSelect, #languageSelectMobile').forEach(select => {
    select.value = currentLanguage;
  });
  
  // Apply translations
  updateTranslations();
}

function setLanguage(lang) {
  if (translations[lang]) {
    currentLanguage = lang;
    localStorage.setItem('language', lang);
    updateTranslations();
    
    // Update all language selectors
    document.querySelectorAll('#languageSelect, #languageSelectMobile').forEach(select => {
      select.value = lang;
    });
  }
}

function updateTranslations() {
  const t = translations[currentLanguage];
  
  // Update all elements with data-i18n attribute
  document.querySelectorAll('[data-i18n]').forEach(element => {
    const key = element.getAttribute('data-i18n');
    const translation = getNestedTranslation(t, key);
    
    if (translation) {
      element.textContent = translation;
    }
  });
  
  // Update placeholders
  document.querySelectorAll('[data-i18n-placeholder]').forEach(element => {
    const key = element.getAttribute('data-i18n-placeholder');
    const translation = getNestedTranslation(t, key);
    
    if (translation) {
      element.placeholder = translation;
    }
  });
  
  // Update document language
  document.documentElement.lang = currentLanguage;
}

function getNestedTranslation(obj, path) {
  return path.split('.').reduce((current, key) => {
    return current && current[key] ? current[key] : null;
  }, obj);
}

function t(key) {
  return getNestedTranslation(translations[currentLanguage], key) || key;
}